<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Gerador de Assinatura Rodoviário</title>
  <style>
    body {
      font-family: 'Aptos', sans-serif;
      padding: 20px;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input {
      width: 300px;
      padding: 5px;
    }
    #assinatura {
      margin-top: 20px;
      border-top: 1px solid #ccc;
      padding-top: 20px;
    }
  </style>
</head>
<body>
  <!-- LOGO ACIMA DO TÍTULO -->
  <a href="https://www.smxlogistics.com" target="_blank">
    <img src="https://i.imgur.com/Hj6iqeC.png" alt="SMX Logo" style="width:100%; max-width:180px; height:auto; display:block; margin-bottom:10px;">
  </a>

  <h2>Gerador de Assinatura Rodoviário</h2>

  <label for="nome">Nome de exibição:</label>
  <input type="text" id="nome" placeholder="Ex: Nome Sobrenome" />

  <label for="cargo">Cargo:</label>
  <input type="text" id="cargo" placeholder="Ex: Cargo em português" />

  <label for="whatsapp">WhatsApp (DDD + número):</label>
  <input type="text" id="whatsapp" placeholder="Ex: 47912345678" />

  <br><br>
  <button onclick="gerarAssinatura()">Gerar Assinatura</button>
  <button id="copiarBtn" onclick="copiarAssinatura()" style="display:none; margin-left:10px;">Copiar Assinatura</button>

  <div id="assinatura" contenteditable="true" style="user-select: all;"></div>

  <script>
    function capitalizarNome(nomeCompleto) {
      return nomeCompleto
        .toLowerCase()
        .split(' ')
        .filter(p => p.length > 0)
        .map(p => p[0].toUpperCase() + p.slice(1))
        .join(' ');
    }

    function gerarAssinatura() {
      const nomeRaw = document.getElementById("nome").value.trim();
      const nome = capitalizarNome(nomeRaw);
      const cargo = document.getElementById("cargo").value.trim();
      const whatsappRaw = document.getElementById("whatsapp").value.trim().replace(/\D/g, '');
      const assinaturaDiv = document.getElementById("assinatura");

      if (!nome || !cargo) {
        alert("Preencha o nome e o cargo.");
        return;
      }

      const nomeEmail = nome.toLowerCase()
        .normalize("NFD").replace(/[\u0300-\u036f]/g, "")
        .replace(/[^a-zA-Z\s]/g, "").split(" ").join(".");

      const email = `${nomeEmail}@smxlogistics.com`;
      const whatsappDisplay = whatsappRaw ? `+55 ${whatsappRaw}` : "+55 47 3083-5500";
      const whatsappLink = whatsappRaw ? `https://wa.me/55${whatsappRaw}` : `https://wa.me/554730835500`;

      const assinaturaHTML = `
        <table cellpadding="0" cellspacing="0" border="0" style="font-family:'Aptos', sans-serif; font-size:medium;">
          <tr>
            <td valign="top">
              <a href="https://www.smxlogistics.com" target="_blank">
                <img src="https://i.imgur.com/XZJWWfR.png" width="180" style="max-width:180px; height:auto; display:block; border:0;">
              </a>
            </td>
            <td style="padding-left:10px; padding-top:6px;" valign="top">
              <h2 style="color:#000; margin:0; font-size:12pt;">${nome}</h2>
              <div style="font-size:10pt; color:#000;">${cargo}</div>
              <table cellpadding="0" cellspacing="0" border="0" width="275" style="margin:6px 0; border-collapse:collapse;">
                <tr>
                  <td height="1" style="background-color:#005BA8; height:1px;"></td>
                </tr>
              </table>
              <table cellpadding="0" cellspacing="0" border="0" width="300" style="font-size:10pt;">
                <tr>
                  <td style="vertical-align:middle; padding-right:7px;">
                    <img src="https://i.imgur.com/yCyPU81.png" width="13" style="display:block;">
                  </td>
                  <td style="vertical-align:middle;">
                    <a href="${whatsappLink}" target="_blank" style="color:#000; text-decoration:none;">${whatsappDisplay}</a>
                  </td>
                </tr>
                <tr>
                  <td style="vertical-align:middle; padding-right:7px;">
                    <img src="https://i.imgur.com/ZjMusJI.png" width="13" style="display:block;">
                  </td>
                  <td style="vertical-align:middle;">
                    <a href="mailto:${email}" style="color:#000; text-decoration:none;">${email}</a>
                  </td>
                </tr>
                <tr>
                  <td style="vertical-align:middle; padding-right:7px;">
                    <img src="https://i.imgur.com/lINihdq.png" width="13" style="display:block;">
                  </td>
                  <td style="vertical-align:middle;">
                    <a href="https://www.smxlogistics.com/" target="_blank" style="color:#000; text-decoration:none;">www.smxlogistics.com</a>
                  </td>
                </tr>
              </table>
              <table cellpadding="0" cellspacing="0" border="0" style="margin-top:5px;">
                <tr>
                  <td>
                    <a href="https://www.linkedin.com/company/9212430" target="_blank">
                      <img src="https://i.imgur.com/mcnKu2b.png" width="18" style="display:block;">
                    </a>
                  </td>
                  <td style="padding-left:0px;">
                    <a href="https://www.instagram.com/smxlogistics/" target="_blank">
                      <img src="https://i.imgur.com/sSJ7QCX.png" width="18" style="display:block;">
                    </a>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      `;

      assinaturaDiv.innerHTML = assinaturaHTML;
      document.getElementById("copiarBtn").style.display = "inline-block";
      alert('Utilize o botão para copiar assinatura');
    }

    function copiarAssinatura() {
      const assinaturaDiv = document.getElementById("assinatura");

      const range = document.createRange();
      range.selectNodeContents(assinaturaDiv);

      const selection = window.getSelection();
      selection.removeAllRanges();
      selection.addRange(range);

      try {
        document.execCommand('copy');
        alert("Assinatura copiada com sucesso!");
      } catch (err) {
        alert("Erro ao copiar");
      }

      selection.removeAllRanges();
    }
  </script>
</body>
</html>
